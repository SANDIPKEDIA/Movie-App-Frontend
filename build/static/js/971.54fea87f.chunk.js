"use strict";(self.webpackChunkmovie_app=self.webpackChunkmovie_app||[]).push([[971],{971:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var t=s(43),l=s(579);const i=e=>{let{movie:a,index:s,watchList:t,setWatchList:i,setselectedMovie:d}=e;return(0,l.jsxs)("div",{className:"card rounded-custom shadow-sm position-relative",children:[(0,l.jsx)("span",{className:"position-top-left-1",children:(o=null===a||void 0===a?void 0:a.imdbID,(null===t||void 0===t?void 0:t.some((e=>e.movies.some((e=>e.imdbID===o)))))?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>{d(a)},"data-bs-toggle":"modal","data-bs-target":"#remove_movie_from_watchlist",width:"34",height:"34",fill:"#52eeaa",className:"bi bi-bookmark-check-fill",viewBox:"0 0 16 16",style:{cursor:"pointer"},children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"})}):(0,l.jsx)("svg",{"data-bs-toggle":"modal","data-bs-target":"#add_movie_into_watchlist",onClick:()=>{d(a)},xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"#fff",className:"bi bi-bookmark-plus-fill",style:{cursor:"pointer"},viewBox:"0 0 16 16",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z"})}))}),(0,l.jsx)("img",{src:null===a||void 0===a?void 0:a.Poster,className:"card-img-top",alt:"Image for ".concat(null===a||void 0===a?void 0:a.Title)}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h5",{className:"card-title w-100 nowrap text-truncate",children:null===a||void 0===a?void 0:a.Title}),(0,l.jsx)("p",{className:"card-text text-secondary",children:null===a||void 0===a?void 0:a.Year})]})]},s);var o},d={APPKEY:"4f1ed473",IKEY:"tt3896198"};var o=s(213),c=s(782);const n=()=>(0,l.jsx)("div",{className:"api-loader"}),r=e=>{let{handleSearchInputChange:a,handleSearchSubmit:s,searchQuery:t,loader:i,selectedWatchList:d}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"card main-border-primary w-100",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("p",{className:"h1 mb-4",children:["Welcome to"," ",(0,l.jsx)("span",{className:"main-text-primary",children:null!==d&&void 0!==d&&d.name?null===d||void 0===d?void 0:d.name:"Movie App"})]}),(null===d||void 0===d?void 0:d.about)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"h5 fw-bold mb-1",children:"About this watchlist"}),(0,l.jsx)("p",{className:"mb-0",children:null===d||void 0===d?void 0:d.about})]}),!(null!==d&&void 0!==d&&d.name)&&(0,l.jsx)("p",{children:"Browse movies, add them to watchlists and share with friends. Just click the + to add a movie into your watchlist."})]})}),!(null!==d&&void 0!==d&&d.name)&&(0,l.jsx)("form",{onSubmit:s,children:(0,l.jsxs)("div",{className:"input-group mb-3",children:[(0,l.jsx)("span",{className:"input-group-text bg-white",id:"main_form",style:{borderRight:"none"},children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})}),(0,l.jsx)("input",{className:"form-control focus-none",style:{borderLeft:"none"},"aria-describedby":"main_form",placeholder:"Search",type:"search",value:t,required:!0,minLength:3,maxLength:12,onChange:a}),(0,l.jsx)("button",{disabled:i,type:"submit",className:"input-group-text main-btn-primary",children:i?(0,l.jsx)(n,{}):"Search"})]})})]})};var m=s(401),h=s(61);const v=e=>{let{watchList:a,setWatchList:s,selectedMovie:i}=e;const[d,o]=(0,t.useState)(null);(0,t.useEffect)((()=>{var e;(null===a||void 0===a?void 0:a.length)>0&&o(null===a||void 0===a||null===(e=a[0])||void 0===e?void 0:e.name)}),[a]);const c=(e,t)=>{const l=null===a||void 0===a?void 0:a.map((a=>a.name===t?{...a,movies:[...a.movies,e]}:a));s(l),m.oR.success(h.A.ADDWATCHLIST),(()=>{const e=document.getElementById("add_movie_into_watchlist");e&&e.click(),o(null)})()};return(0,l.jsx)("div",{className:"modal fade",id:"add_movie_into_watchlist",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,l.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("p",{className:"modal-title h5 fw-bold main-text-primary",id:"staticBackdropLabel",children:"Add Movie into Watchlist"}),(0,l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(i,d)},children:[(0,l.jsx)("div",{className:"modal-body",children:(null===a||void 0===a?void 0:a.length)>0?(0,l.jsx)("div",{className:"mb-3",children:null===a||void 0===a?void 0:a.map(((e,a)=>{var s;return(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",checked:d===(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.name,onChange:e=>{o(e.target.value)}}),(0,l.jsxs)("label",{className:"form-check-label",htmlFor:"flexRadioDefault".concat(a),children:[null===e||void 0===e?void 0:e.name," (",null===e||void 0===e||null===(s=e.movies)||void 0===s?void 0:s.length,")"]})]},a)}))}):(0,l.jsx)("p",{children:"Please add a watchlist to add movie"})}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{type:"submit",className:"btn main-btn-primary",children:"Add"})})]})]})})})},u=e=>{let{watchList:a,setWatchList:s,selectedMovie:t,selectedWatchList:i,setSelectedWatchList:d}=e;const o=()=>{const e=document.getElementById("remove_movie_from_watchlist");e&&e.click()};return(0,l.jsx)("div",{className:"modal fade",id:"remove_movie_from_watchlist",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,l.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("div",{className:"modal-body",children:(0,l.jsx)("p",{children:"Are you confirm you want to remove this movie from your watchlist?"})}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{onClick:o,className:"btn main-btn-secondary",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{(e=>{let t=null;const l=a.map((a=>{const s=a.movies.filter((a=>a.imdbID!==e));return null!==i&&void 0!==i&&i.name&&(null===i||void 0===i?void 0:i.name)===a.name&&(t={...a,movies:s}),{...a,movies:s}}));s(l),t&&d(t),m.oR.success(h.A.REMOVEWATCHLIST),o()})(null===t||void 0===t?void 0:t.imdbID)},className:"btn main-btn-primary",children:"Confirm"})]})]})})})},x=e=>{let{watchList:a,setWatchList:s,selectedWatchList:n,setSelectedWatchList:m}=e;const[h,x]=(0,t.useState)(!1),[p,b]=(0,t.useState)(""),[j,f]=(0,t.useState)([]),[w,g]=(0,t.useState)(""),[N,y]=(0,t.useState)(null);(0,t.useEffect)((()=>{null!==n&&void 0!==n&&n.movies&&f(null===n||void 0===n?void 0:n.movies)}),[n]);return(0,l.jsxs)("div",{className:"d-flex flex-column gap-3 p-3",children:[(0,l.jsx)(r,{handleSearchInputChange:e=>{g(e.target.value)},handleSearchSubmit:e=>{e.preventDefault(),(async()=>{(0,c.vX)(b,x);try{const e=await o.A.get("http://www.omdbapi.com/",{params:{apikey:d.APPKEY,s:w}});"True"===e.data.Response?(f(e.data.Search),x(!1)):(b(e.data.Error),f([]),x(!1))}catch(e){b("Error fetching data"),f([]),x(!1)}})()},searchQuery:w,loader:h,selectedWatchList:n}),h&&(0,l.jsx)("p",{children:"Searching Movies..."}),(0,l.jsxs)("div",{className:"d-flex flex-wrap gap-3",children:[null===j||void 0===j?void 0:j.map(((e,t)=>(0,l.jsx)(i,{movie:e,index:t,watchList:a,setWatchList:s,setselectedMovie:y},t))),0===(null===j||void 0===j?void 0:j.length)&&!h&&(0,l.jsx)("p",{children:"No Movies"}),(0,l.jsx)(v,{selectedMovie:N,watchList:a,setWatchList:s}),(0,l.jsx)(u,{watchList:a,setWatchList:s,selectedMovie:N,selectedWatchList:n,setSelectedWatchList:m})]})]})}}}]);
//# sourceMappingURL=971.54fea87f.chunk.js.map